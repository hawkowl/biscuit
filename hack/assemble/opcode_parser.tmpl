// AUTOGENERATED: DO NOT EDIT!
// Built from RISC-V ISA opcode definitions: https://github.com/riscv/riscv-opcodes

package assemble

{{ range .Opcodes -}}
type OP_{{ .Name }} struct {
	{{ range .Args -}}
		{{ . }} {{ if eq "BIMM12" . }} int32 {{ else }} uint32 {{ end }}
	{{ end -}}
}

func (o OP_{{.Name}}) Encode() (r uint32, err error) {
{{ range .Fields -}}
    {{ index . 0 }}, err := GEN_{{ index . 0 }}(o.{{ index . 1 }})
	if err != nil {
		return
	}
{{ end }}

	r = r 
	{{- range .Fields -}}
	| {{ index . 0 }}
{{- end -}}
	{{- range .Bitfields -}}
		| ({{ index . 1 }}
		{{- if index . 0 | ne "0" -}}
			<< {{ index . 0 }}
		{{- end -}})
	{{- end }}
	return
}

{{ end -}}